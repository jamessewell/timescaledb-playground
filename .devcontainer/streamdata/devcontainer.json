{
  "name": "timescaledb-tutorial",
  "dockerComposeFile": "./compose.yaml",
  "service": "timescaledb",
  "runServices": ["shadowtraffic", "timescaledb"],
  "postCreateCommand": {
     "database": "psql -f ./streamdata/init.sql"
  },
  "postAttachCommand": "watch \"psql -c 'SELECT distinct on (sensor_id), sensorid, ts, value as last_value FROM sensors ORDER BY sensor_id, ts DESC'\"",
  "customizations": {
      "codespaces": {
          "openFiles": [
              "./sensordata/sensors.json"
          ]
      }
  },
  "forwardPorts": [
      "timescaledb:5432"
   ],
   "portsAttributes": {
         "timescaledb:5432": {
             "label": "Database",
             "onAutoForward": "silent"
         }
   }
}
