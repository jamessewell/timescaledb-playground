{
  "name": "timescaledb-tutorial",
  "dockerComposeFile": "./compose.yaml",
  "service": "timescaledb",
  "postCreateCommand": {
    "database": "psql -f ./streamdata/init.sql"
  },
  "runServices": ["shadowtraffic", "timescaledb"],
  "postAttachCommand": "watch \"psql -c 'SELECT distinct on (sensorid) sensorid, ts, value as last_value FROM sensors ORDER BY sensorid, ts DESC'\"",
  "customizations": {
      "codespaces": {
          "openFiles": [
              "./streamdata/sensors.json"
          ]
      }
  },
  "forwardPorts": [
      "timescaledb:5432"
   ],
  "portsAttributes": {
    "timescaledb:5432": {
      "label": "Database",
      "onAutoForward": "silent"
    }
  }
}
