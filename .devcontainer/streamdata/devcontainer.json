{
  "name": "timescaledb-tutorial",
  "remoteUser": "root",
  "dockerComposeFile": "./compose.yaml",
  "service": "timescaledb",
  "onCreateCommand": {
    "sleep": "sleep 5"
  },
  "postCreateCommand": {
    "database": "psql -U postgres -f ./streamdata/init.sql",
    "psql": "cp ./streamdata/psqlrc ~/.psqlrc",
    "zbash": "echo psql -U postgres >> ~/.bashrc"
  },
  "postAttachCommand": "psql",
  "waitFor": "onCreateCommand",
  "runServices": ["shadowtraffic", "timescaledb"],
  "customizations": {
      "codespaces": {
          "openFiles": [
	      "./streamdata/welcome.md",
	      "./streamdata/init.sql",
	      "../../workspace/sensors.json"
          ]
      }
  },
  "forwardPorts": [
      "timescaledb:5432"
   ],
  "portsAttributes": {
    "timescaledb:5432": {
      "label": "Database",
      "onAutoForward": "silent"
    }
  },
  "features": {
        "ghcr.io/devcontainers/features/docker-outside-of-docker": {}
  }
}
